<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Halftonish - SDF Halftone Pattern Generator</title>
    <meta name="description" content="Generate and apply SDF-based halftone patterns using space-filling curves">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Halftonish</h1>
            <p class="subtitle">SDF-based Halftone Pattern Generator</p>
        </header>

        <main>
            <!-- Pattern Generation Section -->
            <section class="panel">
                <h2>Generate Pattern</h2>

                <div class="controls">
                    <div class="control-group">
                        <label for="pattern-select">Pattern:</label>
                        <select id="pattern-select">
                            <option value="hilbert">Hilbert Curve</option>
                            <!-- More patterns will be added -->
                        </select>
                    </div>

                    <div class="control-group">
                        <label for="iterations">
                            Iterations: <span id="iterations-value">5</span>
                        </label>
                        <input type="range" id="iterations" min="1" max="8" value="5" step="1">
                    </div>

                    <div class="control-group">
                        <label for="line-width">
                            Line Width: <span id="line-width-value">2.0</span>
                        </label>
                        <input type="range" id="line-width" min="0.5" max="10.0" value="2.0" step="0.1">
                    </div>

                    <div class="control-group">
                        <label for="size">
                            Size: <span id="size-value">1000</span>px
                        </label>
                        <input type="range" id="size" min="256" max="2048" value="1000" step="64">
                    </div>

                    <div class="control-group checkbox">
                        <label>
                            <input type="checkbox" id="invert">
                            Invert Pattern
                        </label>
                    </div>
                </div>

                <div class="actions">
                    <button id="generate-btn" class="btn btn-primary">Generate Pattern</button>
                    <button id="cancel-generate-btn" class="btn btn-secondary" style="display: none;">Cancel</button>
                </div>

                <div id="generate-progress" class="progress-container" style="display: none;">
                    <div class="progress-bar">
                        <div id="generate-progress-fill" class="progress-fill"></div>
                    </div>
                    <p id="generate-progress-text" class="progress-text">0%</p>
                </div>

                <div class="canvas-container">
                    <canvas id="pattern-canvas"></canvas>
                </div>

                <div class="actions">
                    <button id="download-pattern-btn" class="btn btn-secondary" disabled>
                        Download Pattern
                    </button>
                </div>
            </section>

            <!-- Image Halftone Section -->
            <section class="panel">
                <h2>Apply Halftone</h2>

                <div class="controls">
                    <div class="control-group">
                        <label for="image-upload">Upload Image:</label>
                        <input type="file" id="image-upload" accept="image/png,image/jpeg">
                    </div>

                    <div class="control-group">
                        <label for="halftone-method">Method:</label>
                        <select id="halftone-method">
                            <option value="threshold">Threshold</option>
                            <option value="blend">Blend</option>
                        </select>
                    </div>
                </div>

                <div class="actions">
                    <button id="apply-halftone-btn" class="btn btn-primary" disabled>
                        Apply Halftone
                    </button>
                    <button id="cancel-halftone-btn" class="btn btn-secondary" style="display: none;">Cancel</button>
                </div>

                <div id="halftone-progress" class="progress-container" style="display: none;">
                    <div class="progress-bar">
                        <div id="halftone-progress-fill" class="progress-fill"></div>
                    </div>
                    <p id="halftone-progress-text" class="progress-text">0%</p>
                </div>

                <div class="canvas-container">
                    <canvas id="result-canvas"></canvas>
                </div>

                <div class="actions">
                    <button id="download-result-btn" class="btn btn-secondary" disabled>
                        Download Result
                    </button>
                </div>
            </section>
        </main>

        <footer>
            <p>
                Halftonish v0.1.0-dev |
                <a href="https://github.com/yourusername/halftonish" target="_blank">GitHub</a> |
                <a href="architecture.md" target="_blank">Docs</a>
            </p>
        </footer>
    </div>

    <!-- Main application script -->
    <script type="module" src="app.js"></script>
</body>
</html>
